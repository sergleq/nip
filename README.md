# NIP - Command Line Web to Markdown Converter

NIP - это командная строка для преобразования веб-страниц в markdown файлы. Основан на технологиях из проекта [TGNIP](https://github.com/sergleq/tgnip).

## Возможности

- Извлечение контента из веб-страниц с помощью ethical scraping
- Автоматическое определение языка контента
- Конвертация HTML в чистый markdown
- Сохранение файлов в текущей директории
- Поддержка различных типов контента (статьи, блоги, документация)

## Установка

### Требования

- Go 1.23.0 или выше

### Сборка

```bash
git clone https://github.com/sergleq/nip.git
cd nip
go build -o nip main.go
```

## Использование

```bash
./nip <URL>
```

### Примеры

```bash
# Преобразование простой страницы
./nip https://example.com

# Преобразование GitHub репозитория
./nip https://github.com/golang/go

# Преобразование статьи
./nip https://blog.example.com/article
```

### Выходные данные

Программа создает markdown файл в текущей директории с именем, основанным на заголовке страницы. Файл содержит:

- Заголовок страницы
- Метаинформацию (источник, автор, дата обработки)
- Основной контент в markdown формате
- Футер с информацией о создании

## Конфигурация

Программа поддерживает следующие переменные окружения:

- `HTTP_TIMEOUT` - таймаут HTTP запросов в секундах (по умолчанию: 30)
- `MAX_RETRIES` - максимальное количество попыток (по умолчанию: 3)
- `LOG_LEVEL` - уровень логирования (по умолчанию: info)
- `USER_AGENT` - пользовательский User-Agent
- `CONTACT_EMAIL` - email для ethical scraping
- `WHITELIST_DOMAINS` - список разрешенных доменов
- `RATE_LIMIT_INTERVAL` - интервал между запросами в секундах (по умолчанию: 1)
- `CACHE_TTL` - время жизни кэша в часах (по умолчанию: 24)

## Технологии

- **Go** - основной язык программирования
- **Colly** - веб-скрапер
- **go-readability** - извлечение читаемого контента
- **html-to-markdown** - конвертация HTML в markdown
- **enry** - детекция языка программирования
- **logrus** - логирование

## Ethical Scraping

Программа следует принципам ethical scraping:

- Уважает robots.txt
- Использует разумные задержки между запросами
- Предоставляет контактную информацию
- Не перегружает серверы

## Лицензия

MIT License

## Автор

Создано на основе [TGNIP](https://github.com/sergleq/tgnip) - Telegram бота для преобразования ссылок в markdown.
